<ion-view>
    <ion-nav-title>{{ page_title }}</ion-nav-title>
    <ion-nav-buttons side="secondary">
        <button ng-show="social_sharing_active" class="button button-clear" ng-click="share()">
            <i class="icon ion-ios-upload-outline"></i>
        </button>
    </ion-nav-buttons>

    <ion-content sb-background-image>

        <div class="loader" ng-show="is_loading">
            <ion-spinner class="spinner-custom"></ion-spinner>
        </div>

        <div class="list">

            <div class="item item-image item-custom" ng-if="company.header" >
                <img ng-src="{{ company.header }}" width="100%" />

                <img ng-src="{{ company.logo }}" ng-if="company.logo" class="job-company-logo" />

                <div class="item item-divider item-divider-custom job-company-header" ng-if="company.title">
                    <h2>{{ company.title }}</h2>
                    <p ng-if="company.employee_count" class="employee">
                        <i class="icon ion-ios-people"></i>{{ company.employee_count }}
                    </p>
                    <p ng-if="company.location" class="location">
                        <i class="icon ion-ios-location"></i>{{ company.location }}
                    </p>
                </div>
            </div>



            <div class="item item-text-wrap item-custom" ng-if="company.subtitle">
                <p>{{ company.subtitle }}</p>
            </div>

            <div class="list" ng-show="company.places.length">

                <div class="item item-divider item-divider-custom">
                    <h2>{{ "Jobs" | translate }}</h2>
                </div>

                <div ng-click="showPlace(place.id)" ng-repeat="place in company.places">
                    <div class="item item-custom item-place" ng-class="{ 'item-avatar': place.company_logo && options.show_logo }">
                        <img ng-src="{{ place.company_logo }}" ng-if="place.company_logo && options.show_logo" />
                        <h2>{{ place.title }} <span ng-if="place.contract_type">{{ place.contract_type }}</span></h2>
                        <p class="subtitle" ng-if="place.subtitle">{{ place.subtitle }}</p>
                        <p class="subtitle-company" ng-if="place.company_name || place.location">
                            <span ng-if="place.company_name">{{ place.company_name }}</span>
                            <span ng-if="place.company_name && place.location">, </span>
                            <span ng-if="place.location">{{ place.location }}</span>
                        </p>
                    </div>
                </div>
            </div>

        </div>

    </ion-content>
    
</ion-view>

<style type="text/css">
    .job-company-logo {
        position: absolute;
        width: 25%;
        left: 26px;
        bottom: 34px;
        z-index: 1000;
        border: 4px solid rgba(255,255,255,0.85);
        border-radius: 2px;
    }
    .job-company-header {
        text-align: left;
    }
    .job-company-header p {
        font-weight: normal;
    }
    .job-company-header h2 {
        margin-left: calc(25vw + 26px);
    }
    .job-company-header p.employee {
        margin-left: calc(25vw + 26px);
    }
    .job-company-header p.location {
        margin-left: 12px;
    }
    .job-company-header p i {
        margin-right: 6px;
    }
</style>
